(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),o=n.n(r);o.a},2262:function(e,t,n){},"26e8":function(e,t,n){"use strict";var r=n("79b6"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("router-view"),n("vue-snotify")],1)},a=[],i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"navbar navbar-expand-lg navbar-dark"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[e._v("SOLIDARYFRIDGE ")]),e._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[n("ul",{staticClass:"navbar-nav"},[n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/auth"}},[e._v("Se connecter ")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:"/auth"}},[e._v("Créer un compte ")])],1)])])],1)},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],c={name:"Navbar"},u=c,l=(n("8169"),n("2877")),d=Object(l["a"])(u,i,s,!1,null,"4794ee0c",null),p=d.exports,f={name:"app",components:{Navbar:p}},m=f,v=(n("034f"),Object(l["a"])(m,o,a,!1,null,null,null)),b=v.exports,g=n("f213"),h=n("8c4f"),_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("section",{staticClass:"landing-section"},[n("div",{staticClass:"description-container"},[n("h2",[e._v("Fini le gaspillage ! ")]),n("p",{staticClass:"description"},[e._v("Les yeux plus gros que le ventre ? Partage avec d'autre étudiants !")]),n("p",[e._v("La vie est dure ? Notre frigo est là ! ")]),e.deferredPrompt?n("button",{staticClass:"btn btn-primary",on:{click:e.installPWA}},[e._v("Installe l'application !")]):n("router-link",{staticClass:"btn btn-primary",attrs:{to:"/auth/"}},[e._v("Rejoins nous !")])],1)]),e._m(0),n("Products")],1)},y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"faq container"},[n("h2",[e._v("Qu'est-ce que quoi ?")])])}],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"products container"},[n("h2",{staticClass:"mr-2"},[e._v("Au menu")]),n("AddProduct"),n("div",e._l(e.products,(function(e){return n("Product",{key:e.id,attrs:{product:e}})})),1)],1)},w=[],O=(n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("159b"),n("ade3")),j=n("2f62"),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showForm?e._e():n("button",{staticClass:"btn btn-outline-primary",on:{click:function(t){t.preventDefault(),e.showForm=!0}}},[e._v("Ajouter un produit")]),e.showForm?n("form",{staticClass:"row"},[n("div",{staticClass:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},[n("button",{staticClass:"btn btn-outline-danger",on:{click:function(t){t.preventDefault(),e.showForm=!1}}},[e._v("Retour")]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"name"}},[e._v("Nom")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",id:"name1",placeholder:"Nom du produit",required:""},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"name"}},[e._v("Date de péremption")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.expirationDate,expression:"expirationDate"}],staticClass:"form-control",attrs:{type:"date",id:"name1",placeholder:"Date de péremption"},domProps:{value:e.expirationDate},on:{input:function(t){t.target.composing||(e.expirationDate=t.target.value)}}})])]),n("div",{staticClass:"col-lg-6 col-md-6 col-sm-12 col-xs-12"},[n("div",[n("input",{ref:"pictureSelection",attrs:{type:"file",hidden:"true",accept:"image/*;capture=camera",required:""},on:{change:e.displayUploadedImage}})]),n("img",{ref:"imagePreview",staticClass:"image-preview",attrs:{hidden:!e.image,alt:"preview"},on:{click:function(t){return t.preventDefault(),e.$refs.pictureSelection.click()}}}),e.image?e._e():n("div",{staticClass:"image-preview image-preview-empty",on:{click:function(t){return t.preventDefault(),e.$refs.pictureSelection.click()}}},[n("span",[e._v("Ajouter une image")])])]),n("button",{staticClass:"btn btn-primary col-4 offset-4",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.submitProduct(t)}}},[e._v("Envoyer")])]):e._e()])},x=[],k=(n("b0c0"),n("bc3a")),E=n.n(k),D={name:"AddProduct",data:function(){return{showForm:!1,name:null,image:null,expirationDate:null}},methods:{displayUploadedImage:function(e){var t=this;if(e.srcElement&&e.srcElement.files&&e.srcElement.files[0]){this.image=e.srcElement.files[0];var n=new FileReader;n.onload=function(e){t.$refs.imagePreview.src=e.target.result},n.readAsDataURL(e.srcElement.files[0])}},submitProduct:function(){var e=this;this.name?this.image?E.a.post("/api/product/",{image:this.image,name:this.name,expiration:this.expiration}).then((function(){e.$snotify.success("Produit ajouter !","Succès !",{timeout:2e3})})).catch((function(t){e.$snotify.error(t.response.data.message,"Erreur !",{timeout:5e3})})):this.$snotify.error("Merci d'ajouter une image","Erreur",{timeout:3e3}):this.$snotify.error("Merci d'ajouter un nom","Erreur",{timeout:3e3})}}},S=D,$=(n("26e8"),Object(l["a"])(S,C,x,!1,null,"9de7ff16",null)),A=$.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",[e._v(e._s(e.product.name))]),n("img",{attrs:{src:e.product.image}})])},F=[],q={name:"Product",props:{product:Object}},R=q,M=Object(l["a"])(R,N,F,!1,null,"326e4636",null),U=M.exports;function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){Object(O["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={name:"Products",components:{AddProduct:A,Product:U},computed:L({},Object(j["b"])({products:function(e){return e.products}}))},J=T,W=(n("b54d"),Object(l["a"])(J,P,w,!1,null,"63dd3edd",null)),B=W.exports,G={name:"HomePage",components:{Products:B},data:function(){return{deferredPrompt:null}},created:function(){var e=this;window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault(),e.deferredPrompt=t}))},methods:{installPWA:function(){var e=this;this.deferredPrompt&&(this.deferredPrompt.prompt(),this.deferredPrompt.userChoice.then((function(t){"accepted"===t.outcome&&(e.deferredPrompt=null)})))}}},H=G,Q=(n("6157"),Object(l["a"])(H,_,y,!1,null,"1ce90a47",null)),Y=Q.exports,z=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},K=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",[n("h2",[e._v("This is the auth page ")])])}],V={name:"Auth"},X=V,Z=Object(l["a"])(X,z,K,!1,null,"6355d14f",null),ee=Z.exports;r["a"].use(h["a"]);var te=new h["a"]({routes:[{path:"/",component:Y},{path:"/auth/",component:ee}]});r["a"].use(j["a"]);var ne=new j["a"].Store({state:{user:null,products:null},getters:{products:function(e){return e.products},user:function(e){return e.user}},mutations:{setUser:function(e,t){e.user=t},setProducts:function(e,t){e.products=t}},actions:{loadCurrentSession:function(e){var t=e.commit;E.a.get("/api/user/current-session").then((function(e){t("setUser",e.data)})).catch((function(){t("setUser",null)}))},loadProducts:function(e){var t=e.commit;E.a.get("/api/products/").then((function(e){t("setProducts",e.data)})).catch((function(){t("setProducts",null)}))}}}),re=ne,oe=n("9483");console.log("Registering:","".concat("/","service-worker.js")),Object(oe["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["a"].use(g["a"]),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(b)},created:function(){re.dispatch("loadCurrentSession"),re.dispatch("loadProducts")},store:re,router:te}).$mount("#app")},"5d98":function(e,t,n){},6157:function(e,t,n){"use strict";var r=n("2262"),o=n.n(r);o.a},"79b6":function(e,t,n){},8169:function(e,t,n){"use strict";var r=n("5d98"),o=n.n(r);o.a},"85ec":function(e,t,n){},b54d:function(e,t,n){"use strict";var r=n("cd50"),o=n.n(r);o.a},cd50:function(e,t,n){}});
//# sourceMappingURL=app.676686d9.js.map